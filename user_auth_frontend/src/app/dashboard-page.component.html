<div class="dashboard-root">
  <!-- Sidebar navigation -->
  <app-sidebar class="dashboard-sidebar"></app-sidebar>
  <main class="dashboard-main-content">
    <div class="dashboard-content-scroll">
      <!-- Top Row: Stat cards, one row, no wrapping until mobile -->
      <section class="dashboard-stat-section">
        <div class="dashboard-stat-card-list">
          <app-stat-card
            *ngFor="let c of statCards"
            [icon]="c.icon"
            [value]="c.value"
            [label]="c.label">
          </app-stat-card>
        </div>
      </section>

      <!-- Main two-row grid: sales left, calendar/activity stack right -->
      <section class="dashboard-widgets-row">
        <!-- Left (col-8): Sales chart card (responsive fluid width) -->
        <div class="dashboard-bar-chart-card">
          <header class="dashboard-section-title">
            <span class="material-icons section-title-icon">show_chart</span>
            Sales
          </header>
          <app-bar-chart
            [data]="barChartData.data"
            [labels]="barChartData.labels"
            [legend]="barChartData.legend"
            [datasetLabel]="barChartData.datasetLabel"
            [height]="220"
            [width]="420">
          </app-bar-chart>
        </div>
        <!-- Right (col-4): Calendar above Activity chart, stacked, no stickiness -->
        <div class="dashboard-side-widget">
          <div class="dashboard-side-card">
            <header class="dashboard-section-title">
              <span class="material-icons section-title-icon">calendar_today</span>
              Calendar
            </header>
            <app-calendar-widget></app-calendar-widget>
          </div>
          <div class="dashboard-side-card">
            <header class="dashboard-section-title">
              <span class="material-icons section-title-icon">bar_chart</span>
              Activity
            </header>
            <app-top-states-bar-chart
              [topStatesData]="topStatesData"
              [metrics]="metrics"
              [metricLabels]="metricLabels"
              [colors]="metricColors"
              [height]="160"
              [width]="340">
            </app-top-states-bar-chart>
          </div>
        </div>
      </section>

      <!-- Bottom: Centered widgets row, no duplicates/sticky -->
      <section class="dashboard-bottom-widgets-row">
        <div class="dashboard-bottom-widget clients-bottom-widget">
          <header class="dashboard-section-title">
            <span class="material-icons section-title-icon">person_add</span>
            New Clients
          </header>
          <div class="dashboard-user-list-section">
            <app-user-list-row
              *ngFor="let user of users"
              [avatarUrl]="user.avatarUrl"
              [name]="user.name"
              [subtitle]="user.subtitle">
            </app-user-list-row>
          </div>
        </div>
        <div class="dashboard-bottom-widget top-states-bottom-widget">
          <header class="dashboard-section-title">
            <span class="material-icons section-title-icon">bar_chart</span>
            Top States
          </header>
          <app-top-states-bar-chart
            [topStatesData]="topStatesData"
            [metrics]="metrics"
            [metricLabels]="metricLabels"
            [colors]="metricColors"
            [height]="240"
            [width]="480">
          </app-top-states-bar-chart>
        </div>
      </section>
    </div>
  </main>
</div>
